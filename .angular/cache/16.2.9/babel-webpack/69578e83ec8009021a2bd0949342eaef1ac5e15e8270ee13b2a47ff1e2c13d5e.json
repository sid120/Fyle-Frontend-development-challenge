{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AppComponent = class AppComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.username = '';\n    this.repositories = [];\n    this.loading = false;\n    this.currentPage = 1;\n    this.itemsPerPage = 6;\n    this.pages = [];\n  }\n  searchUser() {\n    this.loading = true;\n    this.apiService.getUserRepositories(this.username, this.currentPage, this.itemsPerPage).subscribe(repos => {\n      this.repositories = repos;\n      this.loading = false;\n      this.updatePages(repos.length); // Update the page numbers based on the total repositories\n    }, error => {\n      console.error(error);\n      this.loading = false;\n    });\n    this.apiService.getRepoDetails(this.username, this.username).subscribe(user => {\n      this.user = user;\n      console.log('User Object:', this.user);\n    }, error => {\n      console.error(error);\n    });\n  }\n  updatePages(totalRepos) {\n    const totalPages = Math.ceil(totalRepos / this.itemsPerPage);\n    this.pages = Array.from({\n      length: totalPages\n    }, (_, index) => index + 1);\n  }\n  getDisplayedRepos() {\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\n    const endIndex = startIndex + this.itemsPerPage;\n    return this.repositories.slice(startIndex, endIndex);\n  }\n  onNextPage() {\n    if (this.currentPage < this.pages.length) {\n      this.currentPage++;\n    }\n  }\n  onPageChange(pageNumber) {\n    this.currentPage = pageNumber;\n    this.searchUser();\n  }\n  onPreviousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n    }\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})], AppComponent);","map":{"version":3,"names":["Component","AppComponent","constructor","apiService","username","repositories","loading","currentPage","itemsPerPage","pages","searchUser","getUserRepositories","subscribe","repos","updatePages","length","error","console","getRepoDetails","user","log","totalRepos","totalPages","Math","ceil","Array","from","_","index","getDisplayedRepos","startIndex","endIndex","slice","onNextPage","onPageChange","pageNumber","onPreviousPage","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\VIIT\\CL\\fyle-internship-challenge-23\\src\\app\\app.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ApiService } from './services/api.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  username: string = '';\r\n  user: any;\r\n  location:any;\r\n  repositories: any[] = [];\r\n  loading: boolean = false;\r\n  currentPage: number = 1;\r\n  itemsPerPage: number = 6;\r\n  pages: number[] = [];\r\n\r\n  constructor(private apiService: ApiService) {}\r\n\r\n  searchUser(): void {\r\n    this.loading = true;\r\n    this.apiService.getUserRepositories(this.username, this.currentPage, this.itemsPerPage).subscribe(\r\n      (repos) => {\r\n        this.repositories = repos;\r\n        this.loading = false;\r\n        this.updatePages(repos.length); // Update the page numbers based on the total repositories\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n        this.loading = false;\r\n      }\r\n    );\r\n\r\n    this.apiService.getRepoDetails(this.username, this.username).subscribe(\r\n      (user) => {\r\n        this.user = user;\r\n        console.log('User Object:', this.user);\r\n\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  private updatePages(totalRepos: number): void {\r\n    const totalPages = Math.ceil(totalRepos / this.itemsPerPage);\r\n    this.pages = Array.from({ length: totalPages }, (_, index) => index + 1);\r\n  }\r\n\r\n  getDisplayedRepos(): any[] {\r\n    const startIndex = (this.currentPage - 1) * this.itemsPerPage;\r\n    const endIndex = startIndex + this.itemsPerPage;\r\n    return this.repositories.slice(startIndex, endIndex);\r\n  }\r\n\r\n  onNextPage(): void {\r\n    if (this.currentPage < this.pages.length) {\r\n      this.currentPage++;\r\n    }\r\n  }\r\n  onPageChange(pageNumber: number): void {\r\n    this.currentPage = pageNumber;\r\n    this.searchUser();\r\n  }\r\n\r\n  onPreviousPage(): void {\r\n    if (this.currentPage > 1) {\r\n      this.currentPage--;\r\n    }\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,YAAY,GAAlB,MAAMA,YAAY;EAUvBC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAT9B,KAAAC,QAAQ,GAAW,EAAE;IAGrB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,OAAO,GAAY,KAAK;IACxB,KAAAC,WAAW,GAAW,CAAC;IACvB,KAAAC,YAAY,GAAW,CAAC;IACxB,KAAAC,KAAK,GAAa,EAAE;EAEyB;EAE7CC,UAAUA,CAAA;IACR,IAAI,CAACJ,OAAO,GAAG,IAAI;IACnB,IAAI,CAACH,UAAU,CAACQ,mBAAmB,CAAC,IAAI,CAACP,QAAQ,EAAE,IAAI,CAACG,WAAW,EAAE,IAAI,CAACC,YAAY,CAAC,CAACI,SAAS,CAC9FC,KAAK,IAAI;MACR,IAAI,CAACR,YAAY,GAAGQ,KAAK;MACzB,IAAI,CAACP,OAAO,GAAG,KAAK;MACpB,IAAI,CAACQ,WAAW,CAACD,KAAK,CAACE,MAAM,CAAC,CAAC,CAAC;IAClC,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACpB,IAAI,CAACV,OAAO,GAAG,KAAK;IACtB,CAAC,CACF;IAED,IAAI,CAACH,UAAU,CAACe,cAAc,CAAC,IAAI,CAACd,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC,CAACQ,SAAS,CACnEO,IAAI,IAAI;MACP,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChBF,OAAO,CAACG,GAAG,CAAC,cAAc,EAAE,IAAI,CAACD,IAAI,CAAC;IAExC,CAAC,EACAH,KAAK,IAAI;MACRC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;EACH;EAEQF,WAAWA,CAACO,UAAkB;IACpC,MAAMC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACH,UAAU,GAAG,IAAI,CAACb,YAAY,CAAC;IAC5D,IAAI,CAACC,KAAK,GAAGgB,KAAK,CAACC,IAAI,CAAC;MAAEX,MAAM,EAAEO;IAAU,CAAE,EAAE,CAACK,CAAC,EAAEC,KAAK,KAAKA,KAAK,GAAG,CAAC,CAAC;EAC1E;EAEAC,iBAAiBA,CAAA;IACf,MAAMC,UAAU,GAAG,CAAC,IAAI,CAACvB,WAAW,GAAG,CAAC,IAAI,IAAI,CAACC,YAAY;IAC7D,MAAMuB,QAAQ,GAAGD,UAAU,GAAG,IAAI,CAACtB,YAAY;IAC/C,OAAO,IAAI,CAACH,YAAY,CAAC2B,KAAK,CAACF,UAAU,EAAEC,QAAQ,CAAC;EACtD;EAEAE,UAAUA,CAAA;IACR,IAAI,IAAI,CAAC1B,WAAW,GAAG,IAAI,CAACE,KAAK,CAACM,MAAM,EAAE;MACxC,IAAI,CAACR,WAAW,EAAE;;EAEtB;EACA2B,YAAYA,CAACC,UAAkB;IAC7B,IAAI,CAAC5B,WAAW,GAAG4B,UAAU;IAC7B,IAAI,CAACzB,UAAU,EAAE;EACnB;EAEA0B,cAAcA,CAAA;IACZ,IAAI,IAAI,CAAC7B,WAAW,GAAG,CAAC,EAAE;MACxB,IAAI,CAACA,WAAW,EAAE;;EAEtB;CACD;AAhEYN,YAAY,GAAAoC,UAAA,EALxBrC,SAAS,CAAC;EACTsC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWvC,YAAY,CAgExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}